<% 
if @category.parent_id.nil? 
  pages = {fa('home') => root_url, t('categories.label') => categories_url, @category.name => nil}
else 
  pages = {fa('home') => root_url, t('categories.label') => categories_url, @category.parent.name => @category.parent, @category.name => nil}
end 
%>

<%= cell(:navigation).call(:content_header, title: t('categories.listing'), breadcrumbs: pages) %>

<div class="row">
   <div class="col-sm-12">
      <div class="block">
        <div class="block-title">
          <h2><%= @category.name %></h2>
        </div>  
        <div class="list-group">
          <%= link_to "..", @category.parent_id.nil? ? categories_path : @category.parent, 
                class: 'list-group-item', id: "@category_#{@category.id}"  %>            
          <%= render @children %>
        </div>
      </div>

  </div>
</div>

<% if policy(@category).update? %>
<%= link_to t('categories.new_subcategory'), new_category_path(:parent_id => @category.id), class: "label label-primary" %> |
<%= link_to t('edit'), edit_category_path(@category), class: "label label-success" %> |
<% end %>

<%= link_to t('destroy'), @category, class: "label label-danger", method: :delete, data: { confirm: t('u_sure') } if policy(@category).destroy? %>
<%= link_to t('back'), categories_path, class: "label label-default" %>
