<p id="notice"><%= notice %></p>

<h1>Listing Publishers</h1>

<%= render 'publishers/search_form' %>

<div class="row">
   <div class="col-sm-8">
      <div class="block full">
        <div class="block-title">
          <div class="block-options pull-right">               
            <%= cell(:navigation).call(:btn_link_to, name: fa('plus'), url: new_publisher_path, tooltip: t('publishers.new')) if policy(Publisher).new? %>      
          </div>
          <h2><%= detone t('publishers.label') %><small>&nbsp;(<%= @publishers.total_count %>)</small></h2>
        </div>

        <div class="row"> 
          <%= render partial: "publishers/widgets/pagination", locals: {paginatable: @publishers} %>
          <hr> 
          <div class="col-xs-12">    
            <%= render :partial =>  "publishers/publisher", :collection => @publishers, :as => :publisher %>
          </div>
          <%= render partial: "publishers/widgets/pagination", locals: {paginatable: @publishers} %>
        </div>

      </div>
  </div>
</div>

<%= paginate @publishers %>

<table class="table table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Owner</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @publishers.each do |publisher| %>
      <tr>
        <td><%= publisher.name %></td>
        <td><%= publisher.owner %></td>
        <td><%= link_to t('show'), publisher %></td>        
        <td><%= link_to t('edit'), edit_publisher_path(publisher) if policy(publisher).update? %></td>
        <td><%= link_to t('destroy'), publisher, method: :delete, data: { confirm: 'Are you sure?' } if policy(publisher).destroy? %></td>        
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Publisher', new_publisher_path  if policy(Publisher).update? %>
