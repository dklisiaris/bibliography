- content_for :content_header do
  .content-header
    .row
      .col-xs-offset-2.col-xl-offset-3
        .header-section
          = render 'home/search_form'

- unless @search_results.nil?
  .block
    .row
      .col-xs-12
        - @search_results.each do |result|
          - if result.klass.to_s == "Book"
            = render :partial =>  "books/book", :collection => result.results, :as => :book
          - elsif result.klass.to_s == "Author"
            = render :partial => "authors/author", :collection => result.results, :as => :author
          - elsif result.klass.to_s == "Publisher"
            = render :partial =>  "publishers/publisher", :collection => result.results, :as => :publisher
          - elsif result.klass.to_s == "Category"
            - result.results.each do |category|
              = render partial: 'books/widgets/grid',                            |
                locals: {                                                        |
                title: link_to(category.name, category, class: "text-light-op"), |
                books: category.books.limit(10),                                 |
                icon: 'tag'}                                                     |

        - if @search_results.all?{|r| r.response["hits"]["total"] == 0}
          = t("nothing_found")
          %hr/
